<!-- Metadata, OpenGraph and Schema.org -->
{% include metadata.liquid %}
{% include hreflang.liquid %}

<!-- Preload critical resources based on page type -->
{% if page.hero_landing %}
  <!-- Preload hero section CSS file for hero landing pages -->
  <link rel="preload" href="{{ '/assets/css/full-page-landing.css' | relative_url | bust_css_cache }}" as="style">
  <link rel="stylesheet" href="{{ '/assets/css/full-page-landing.css' | relative_url | bust_css_cache }}">
  
  <!-- Preload hero logo with high priority -->
  <link rel="preload" 
        href="{{ page.hero_logo | default: '/assets/img/custom_logo/amata/AMATA_Logo.svg' | relative_url }}" 
        as="image"
        fetchpriority="high">
{% endif %}

<!-- Preload all navbar logos if they exist -->
{% if page.navbar_logo_one %}
  <link rel="preload" 
        href="{{ page.navbar_logo_one | relative_url }}" 
        as="image" 
        fetchpriority="high">
{% endif %}

{% if page.navbar_logo_two %}
  <link rel="preload" 
        href="{{ page.navbar_logo_two | relative_url }}" 
        as="image">
{% endif %}

<!-- Main Styles -->
<link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url | bust_css_cache }}">

<!-- Fonts -->
<!-- Preload Fonts -->
{% if page.lang == "th" %}
  <link rel="preload" as="font" type="font/woff2" crossorigin
        href="{{ "/assets/fonts/prompt/prompt-v11-thai-400.woff2" | relative_url }}">
  <link rel="preload" as="font" type="font/woff2" crossorigin
        href="{{ "/assets/fonts/prompt/prompt-v11-thai-600.woff2" | relative_url }}">
{% elsif page.lang == "en" %}
  <link rel="preload" as="font" type="font/woff2" crossorigin
        href="{{ "/assets/fonts/roboto/roboto-v47-latin-400.woff2" | relative_url }}">
  <link rel="preload" as="font" type="font/woff2" crossorigin
        href="{{ "/assets/fonts/roboto/roboto-v47-latin-600.woff2" | relative_url }}">
{% endif %}

<!-- Font Face Declarations -->
{% if page.lang == "th" %}
  <style>
    @font-face {
      font-family: 'Prompt';
      font-style: normal;
      font-weight: 400;
      font-display: swap;
      src: url('{{ "/assets/fonts/prompt/prompt-v11-thai-400.woff2" | relative_url }}') format('woff2');
    }
    @font-face {
      font-family: 'Prompt';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url('{{ "/assets/fonts/prompt/prompt-v11-thai-500.woff2" | relative_url }}') format('woff2');
    }
    @font-face {
      font-family: 'Prompt';
      font-style: normal;
      font-weight: 600;
      font-display: swap;
      src: url('{{ "/assets/fonts/prompt/prompt-v11-thai-600.woff2" | relative_url }}') format('woff2');
    }
    @font-face {
      font-family: 'Prompt';
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src: url('{{ "/assets/fonts/prompt/prompt-v11-thai-700.woff2" | relative_url }}') format('woff2');
    }
  </style>
{% elsif page.lang == "en" %}
  <style>
    @font-face {
      font-family: 'Roboto';
      font-style: normal;
      font-weight: 400;
      font-display: swap;
      src: url('{{ "/assets/fonts/roboto/roboto-v47-latin-400.woff2" | relative_url }}') format('woff2');
    }
    @font-face {
      font-family: 'Roboto';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url('{{ "/assets/fonts/roboto/roboto-v47-latin-500.woff2" | relative_url }}') format('woff2');
    }
    @font-face {
      font-family: 'Roboto';
      font-style: normal;
      font-weight: 600;
      font-display: swap;
      src: url('{{ "/assets/fonts/roboto/roboto-v47-latin-600.woff2" | relative_url }}') format('woff2');
    }
    @font-face {
      font-family: 'Roboto';
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src: url('{{ "/assets/fonts/roboto/roboto-v47-latin-700.woff2" | relative_url }}') format('woff2');
    }
  </style>
{% endif %}

{% if page.background == true and page.background_logo %}
  <link rel="preload" 
        href="{{ page.background_logo | relative_url }}" 
        as="image">
{% endif %}

<!-- Site Icons -->
<link rel="apple-touch-icon" sizes="180x180" href="{{ '/apple-touch-icon.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="32x32" href="{{ '/favicon-32x32.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="16x16" href="{{ '/favicon-16x16.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="192x192" href="{{ '/android-chrome-192x192.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="512x512" href="{{ '/android-chrome-512x512.png' | relative_url }}">
<link rel="shortcut icon" href="{{ '/favicon.ico' | relative_url }}">
<link rel="manifest" href="{{ '/site.webmanifest' | relative_url }}">

<link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">

<!-- Dark Mode -->
<script src="{{ '/assets/js/theme.js' | relative_url }}" defer></script>

<!-- Language toggle controller -->
{% if page.language_switch %}
  <script src="{{ '/assets/js/language-toggle.js' | relative_url | bust_file_cache }}" defer></script>
{% endif %}