---
layout: default
---
{% unless site.data.resume %}
  <!-- Existing non-resume code unchanged -->
{% else %}
  <div class="post">
    <header class="post-header">
      <h1 class="post-title">
        {{ page.title }}
        {% if page.cv_pdf %}
          <a
            {% if page.cv_pdf contains '://' %}
              href="{{ page.cv_pdf }}"
            {% else %}
              href="{{ page.cv_pdf | prepend: 'assets/pdf/' | relative_url }}"
            {% endif %}
            target="_blank"
            rel="noopener noreferrer"
            class="float-right"
            title="{{ site.first_name }} {{ site.last_name }}'s CV"
          >
            <i class="fa-regular fa-file-pdf fa-2x"></i>
          </a>
        {% endif %}
      </h1>
      {% if page.description %}
        <p class="post-description">{{ page.description }}</p>
      {% endif %}
    </header>

    <article>
      <div class="cv">
        {% for data in site.data.resume %}
          {% if site.jsonresume and site.jsonresume.size > 0 %}
            {% assign section_exists = site.jsonresume | where: "key", data[0] | size %}
            {% if section_exists == 0 %}
              {% continue %}
            {% endif %}
          {% endif %}
          {% if data[1].size == 0 %}
            {% continue %}
          {% endif %}
          {% if data[0] == 'meta' or data[1].size == 0 %} {% continue %} {% endif %}
          
          {% comment %} Skip label fields that will be handled with their corresponding content {% endcomment %}
          {% if data[0] contains '_label' %} {% continue %} {% endif %}
          
          <a class="anchor" id="{{ data[0] | slugify }}"></a>
          <div class="card mt-3 p-3">
            {% assign section_key = data[0] %}
            
            {% comment %} Check first for a custom label in resume.json {% endcomment %}
            {% assign section_label_key = section_key | append: '_label' %}
            {% assign custom_label = site.data.resume[section_label_key] %}
            
            {% comment %} If no custom label, fall back to site config {% endcomment %}
            {% if custom_label %}
              {% assign section_label = custom_label %}
            {% else %}
              {% assign section_entry = site.jsonresume | where: "key", section_key | first %}
              {% assign section_label = section_entry.label | default: section_key | capitalize %}
            {% endif %}
            
            <h3 class="card-title">{{ section_label }}</h3>
            <div>
            {% case data[0] %}
              {% when 'basics' %}
                {% include resume/basics.liquid %}
              {% when 'education' %}
                {% include resume/education.liquid %}
              {% when 'work' %}
                {% include resume/work.liquid %}
              {% when 'volunteer' %}
                {% include resume/volunteer.liquid %}
              {% when 'projects' %}
                {% include resume/projects.liquid %}
              {% when 'awards' %}
                {% include resume/awards.liquid %}
              {% when 'skills' %}
                {% include resume/skills.liquid %}
              {% when 'publications' %}
                {% include resume/publications.liquid %}
              {% when 'languages' %}
                {% include resume/languages.liquid %}
              {% when 'interests' %}
                {% include resume/interests.liquid %}
              {% when 'certificates' %}
                {% include resume/certificates.liquid %}
              {% when 'references' %}
                {% include resume/references.liquid %}
              {% else %}
            {% endcase %}
            </div>
          </div>
        {% endfor %}
      </div>
    </article>
  </div>

  <!-- Add link icons to all links in title elements -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Find all links in title elements within the CV
      const titleLinks = document.querySelectorAll('.cv .title a[href], .cv td.list-group-category a[href], .cv .list-group-name a[href]');
      
      // Add link icon to each link that has a URL
      titleLinks.forEach(function(link) {
        // Skip if it already has the icon
        if (!link.querySelector('.link-icon')) {
          const icon = document.createElement('i');
          icon.className = 'fa-solid fa-arrow-up-right-from-square link-icon';
          link.appendChild(icon);
          
          // Make sure there's a space before the icon
          const textNode = document.createTextNode(' ');
          link.insertBefore(textNode, icon);
        }
      });
    });
  </script>
{% endunless %}